var __extends=this.__extends||function(c,k){function m(){this.constructor=c}for(var l in k)k.hasOwnProperty(l)&&(c[l]=k[l]);m.prototype=k.prototype;c.prototype=new m},collections;
(function(c){var k=Object.prototype.hasOwnProperty;c.defaultCompare=function(b,a){return b<a?-1:b===a?0:1};c.defaultEquals=function(b,a){return b===a};c.defaultToString=function(b){return null===b?"COLLECTION_NULL":c.isUndefined(b)?"COLLECTION_UNDEFINED":c.isString(b)?"$s"+b:"$o"+b.toString()};c.makeString=function(b,a){void 0===a&&(a=",");if(null===b)return"COLLECTION_NULL";if(c.isUndefined(b))return"COLLECTION_UNDEFINED";if(c.isString(b))return b.toString();var d="{",g=!0,e;for(e in b)k.call(b,
e)&&(g?g=!1:d+=a,d=d+e+":"+b[e]);return d+"}"};c.isFunction=function(b){return"function"===typeof b};c.isUndefined=function(b){return"undefined"===typeof b};c.isString=function(b){return"[object String]"===Object.prototype.toString.call(b)};c.reverseCompareFunction=function(b){return c.isFunction(b)?function(a,d){return-1*b(a,d)}:function(a,d){return a<d?1:a===d?0:-1}};c.compareToEquals=function(b){return function(a,d){return 0===b(a,d)}};(function(b){b.indexOf=function(a,d,b){b=b||c.defaultEquals;
for(var e=a.length,f=0;f<e;f++)if(b(a[f],d))return f;return-1};b.lastIndexOf=function(a,d,b){b=b||c.defaultEquals;for(var e=a.length-1;0<=e;e--)if(b(a[e],d))return e;return-1};b.contains=function(a,d,g){return 0<=b.indexOf(a,d,g)};b.remove=function(a,d,g){d=b.indexOf(a,d,g);if(0>d)return!1;a.splice(d,1);return!0};b.frequency=function(a,d,b){b=b||c.defaultEquals;for(var e=a.length,f=0,h=0;h<e;h++)b(a[h],d)&&f++;return f};b.equals=function(a,d,b){b=b||c.defaultEquals;if(a.length!==d.length)return!1;
for(var e=a.length,f=0;f<e;f++)if(!b(a[f],d[f]))return!1;return!0};b.copy=function(a){return a.concat()};b.swap=function(a,d,b){if(0>d||d>=a.length||0>b||b>=a.length)return!1;var c=a[d];a[d]=a[b];a[b]=c;return!0};b.toString=function(a){return"["+a.toString()+"]"};b.forEach=function(a,d){for(var b=a.length,c=0;c<b&&!1!==d(a[c]);c++);}})(c.arrays||(c.arrays={}));var m=function(){function b(){this.lastNode=this.firstNode=null;this.nElements=0}b.prototype.add=function(a,d){c.isUndefined(d)&&(d=this.nElements);
if(0>d||d>this.nElements||c.isUndefined(a))return!1;var b=this.createNode(a);if(0===this.nElements)this.lastNode=this.firstNode=b;else if(d===this.nElements)this.lastNode=this.lastNode.next=b;else if(0===d)b.next=this.firstNode,this.firstNode=b;else{var e=this.nodeAtIndex(d-1);b.next=e.next;e.next=b}this.nElements++;return!0};b.prototype.first=function(){if(null!==this.firstNode)return this.firstNode.element};b.prototype.last=function(){if(null!==this.lastNode)return this.lastNode.element};b.prototype.elementAtIndex=
function(a){a=this.nodeAtIndex(a);return null===a?void 0:a.element};b.prototype.indexOf=function(a,d){var b=d||c.defaultEquals;if(c.isUndefined(a))return-1;for(var e=this.firstNode,f=0;null!==e;){if(b(e.element,a))return f;f++;e=e.next}return-1};b.prototype.contains=function(a,d){return 0<=this.indexOf(a,d)};b.prototype.remove=function(a,d){var b=d||c.defaultEquals;if(1>this.nElements||c.isUndefined(a))return!1;for(var e=null,f=this.firstNode;null!==f;){if(b(f.element,a))return f===this.firstNode?
(this.firstNode=this.firstNode.next,f===this.lastNode&&(this.lastNode=null)):(f===this.lastNode&&(this.lastNode=e),e.next=f.next,f.next=null),this.nElements--,!0;e=f;f=f.next}return!1};b.prototype.clear=function(){this.lastNode=this.firstNode=null;this.nElements=0};b.prototype.equals=function(a,d){var b=d||c.defaultEquals;return a instanceof c.LinkedList&&this.size()===a.size()?this.equalsAux(this.firstNode,a.firstNode,b):!1};b.prototype.equalsAux=function(a,d,b){for(;null!==a;){if(!b(a.element,d.element))return!1;
a=a.next;d=d.next}return!0};b.prototype.removeElementAtIndex=function(a){if(!(0>a||a>=this.nElements)){var d;1===this.nElements?(d=this.firstNode.element,this.lastNode=this.firstNode=null):(a=this.nodeAtIndex(a-1),null===a?(d=this.firstNode.element,this.firstNode=this.firstNode.next):a.next===this.lastNode&&(d=this.lastNode.element,this.lastNode=a),null!==a&&(d=a.next.element,a.next=a.next.next));this.nElements--;return d}};b.prototype.forEach=function(a){for(var d=this.firstNode;null!==d&&!1!==a(d.element);)d=
d.next};b.prototype.reverse=function(){for(var a=null,d=this.firstNode,b=null;null!==d;)b=d.next,d.next=a,a=d,d=b;b=this.firstNode;this.firstNode=this.lastNode;this.lastNode=b};b.prototype.toArray=function(){for(var a=[],d=this.firstNode;null!==d;)a.push(d.element),d=d.next;return a};b.prototype.size=function(){return this.nElements};b.prototype.isEmpty=function(){return 0>=this.nElements};b.prototype.toString=function(){return c.arrays.toString(this.toArray())};b.prototype.nodeAtIndex=function(a){if(0>
a||a>=this.nElements)return null;if(a===this.nElements-1)return this.lastNode;for(var d=this.firstNode,b=0;b<a;b++)d=d.next;return d};b.prototype.createNode=function(a){return{element:a,next:null}};return b}();c.LinkedList=m;var l=function(){function b(a){this.table={};this.nElements=0;this.toStr=a||c.defaultToString}b.prototype.getValue=function(a){a=this.table["$"+this.toStr(a)];return c.isUndefined(a)?void 0:a.value};b.prototype.setValue=function(a,d){if(!c.isUndefined(a)&&!c.isUndefined(d)){var b,
e="$"+this.toStr(a);b=this.table[e];c.isUndefined(b)?(this.nElements++,b=void 0):b=b.value;this.table[e]={key:a,value:d};return b}};b.prototype.remove=function(a){a="$"+this.toStr(a);var b=this.table[a];if(!c.isUndefined(b))return delete this.table[a],this.nElements--,b.value};b.prototype.keys=function(){var a=[],b;for(b in this.table)k.call(this.table,b)&&a.push(this.table[b].key);return a};b.prototype.values=function(){var a=[],b;for(b in this.table)k.call(this.table,b)&&a.push(this.table[b].value);
return a};b.prototype.forEach=function(a){for(var b in this.table)if(k.call(this.table,b)){var g=this.table[b];if(!1===a(g.key,g.value))break}};b.prototype.containsKey=function(a){return!c.isUndefined(this.getValue(a))};b.prototype.clear=function(){this.table={};this.nElements=0};b.prototype.size=function(){return this.nElements};b.prototype.isEmpty=function(){return 0>=this.nElements};b.prototype.toString=function(){var a="{";this.forEach(function(b,g){a=a+"\n\t"+b.toString()+" : "+g.toString()});
return a+"\n}"};return b}();c.Dictionary=l;var n=function(){function b(a,b){this.key=a;this.value=b}b.prototype.unlink=function(){this.prev.next=this.next;this.next.prev=this.prev};return b}(),h=function(b){function a(a){b.call(this,a);this.head=new n(null,null);this.tail=new n(null,null);this.head.next=this.tail;this.tail.prev=this.head}__extends(a,b);a.prototype.appendToTail=function(a){var b=this.tail.prev;b.next=a;a.prev=b;a.next=this.tail;this.tail.prev=a};a.prototype.getLinkedDictionaryPair=
function(a){if(!c.isUndefined(a))return a="$"+this.toStr(a),this.table[a]};a.prototype.getValue=function(a){a=this.getLinkedDictionaryPair(a);if(!c.isUndefined(a))return a.value};a.prototype.remove=function(a){var g=this.getLinkedDictionaryPair(a);if(!c.isUndefined(g))return b.prototype.remove.call(this,a),g.unlink(),g.value};a.prototype.clear=function(){b.prototype.clear.call(this);this.head.next=this.tail;this.tail.prev=this.head};a.prototype.replace=function(a,b){var c="$"+this.toStr(b.key);b.next=
a.next;b.prev=a.prev;this.remove(a.key);b.prev.next=b;b.next.prev=b;this.table[c]=b;++this.nElements};a.prototype.setValue=function(a,b){if(!c.isUndefined(a)&&!c.isUndefined(b)){var e=this.getLinkedDictionaryPair(a),f=new n(a,b),h="$"+this.toStr(a);if(c.isUndefined(e))this.appendToTail(f),this.table[h]=f,++this.nElements;else return this.replace(e,f),e.value}};a.prototype.keys=function(){var a=[];this.forEach(function(b,c){a.push(b)});return a};a.prototype.values=function(){var a=[];this.forEach(function(b,
c){a.push(c)});return a};a.prototype.forEach=function(a){for(var b=this.head.next;null!=b.next&&!1!==a(b.key,b.value);)b=b.next};return a}(l);c.LinkedDictionary=h;h=function(){function b(a,b,g){void 0===g&&(g=!1);this.dict=new l(a);this.equalsF=b||c.defaultEquals;this.allowDuplicate=g}b.prototype.getValue=function(a){a=this.dict.getValue(a);return c.isUndefined(a)?[]:c.arrays.copy(a)};b.prototype.setValue=function(a,b){if(c.isUndefined(a)||c.isUndefined(b))return!1;if(!this.containsKey(a))return this.dict.setValue(a,
[b]),!0;var g=this.dict.getValue(a);if(!this.allowDuplicate&&c.arrays.contains(g,b,this.equalsF))return!1;g.push(b);return!0};b.prototype.remove=function(a,b){if(c.isUndefined(b)){var g=this.dict.remove(a);return!c.isUndefined(g)}g=this.dict.getValue(a);return c.arrays.remove(g,b,this.equalsF)?(0===g.length&&this.dict.remove(a),!0):!1};b.prototype.keys=function(){return this.dict.keys()};b.prototype.values=function(){for(var a=this.dict.values(),b=[],g=0;g<a.length;g++)for(var c=a[g],f=0;f<c.length;f++)b.push(c[f]);
return b};b.prototype.containsKey=function(a){return this.dict.containsKey(a)};b.prototype.clear=function(){this.dict.clear()};b.prototype.size=function(){return this.dict.size()};b.prototype.isEmpty=function(){return this.dict.isEmpty()};return b}();c.MultiDictionary=h;var p=function(){function b(a){this.data=[];this.compare=a||c.defaultCompare}b.prototype.leftChildIndex=function(a){return 2*a+1};b.prototype.rightChildIndex=function(a){return 2*a+2};b.prototype.parentIndex=function(a){return Math.floor((a-
1)/2)};b.prototype.minIndex=function(a,b){return b>=this.data.length?a>=this.data.length?-1:a:0>=this.compare(this.data[a],this.data[b])?a:b};b.prototype.siftUp=function(a){for(var b=this.parentIndex(a);0<a&&0<this.compare(this.data[b],this.data[a]);)c.arrays.swap(this.data,b,a),a=b,b=this.parentIndex(a)};b.prototype.siftDown=function(a){for(var b=this.minIndex(this.leftChildIndex(a),this.rightChildIndex(a));0<=b&&0<this.compare(this.data[a],this.data[b]);)c.arrays.swap(this.data,b,a),a=b,b=this.minIndex(this.leftChildIndex(a),
this.rightChildIndex(a))};b.prototype.peek=function(){if(0<this.data.length)return this.data[0]};b.prototype.add=function(a){if(!c.isUndefined(a))return this.data.push(a),this.siftUp(this.data.length-1),!0};b.prototype.removeRoot=function(){if(0<this.data.length){var a=this.data[0];this.data[0]=this.data[this.data.length-1];this.data.splice(this.data.length-1,1);0<this.data.length&&this.siftDown(0);return a}};b.prototype.contains=function(a){var b=c.compareToEquals(this.compare);return c.arrays.contains(this.data,
a,b)};b.prototype.size=function(){return this.data.length};b.prototype.isEmpty=function(){return 0>=this.data.length};b.prototype.clear=function(){this.data.length=0};b.prototype.forEach=function(a){c.arrays.forEach(this.data,a)};return b}();c.Heap=p;h=function(){function b(){this.list=new m}b.prototype.push=function(a){return this.list.add(a,0)};b.prototype.add=function(a){return this.list.add(a,0)};b.prototype.pop=function(){return this.list.removeElementAtIndex(0)};b.prototype.peek=function(){return this.list.first()};
b.prototype.size=function(){return this.list.size()};b.prototype.contains=function(a,b){return this.list.contains(a,b)};b.prototype.isEmpty=function(){return this.list.isEmpty()};b.prototype.clear=function(){this.list.clear()};b.prototype.forEach=function(a){this.list.forEach(a)};return b}();c.Stack=h;var q=function(){function b(){this.list=new m}b.prototype.enqueue=function(a){return this.list.add(a)};b.prototype.add=function(a){return this.list.add(a)};b.prototype.dequeue=function(){if(0!==this.list.size()){var a=
this.list.first();this.list.removeElementAtIndex(0);return a}};b.prototype.peek=function(){if(0!==this.list.size())return this.list.first()};b.prototype.size=function(){return this.list.size()};b.prototype.contains=function(a,b){return this.list.contains(a,b)};b.prototype.isEmpty=function(){return 0>=this.list.size()};b.prototype.clear=function(){this.list.clear()};b.prototype.forEach=function(a){this.list.forEach(a)};return b}();c.Queue=q;h=function(){function b(a){this.heap=new p(c.reverseCompareFunction(a))}
b.prototype.enqueue=function(a){return this.heap.add(a)};b.prototype.add=function(a){return this.heap.add(a)};b.prototype.dequeue=function(){if(0!==this.heap.size()){var a=this.heap.peek();this.heap.removeRoot();return a}};b.prototype.peek=function(){return this.heap.peek()};b.prototype.contains=function(a){return this.heap.contains(a)};b.prototype.isEmpty=function(){return this.heap.isEmpty()};b.prototype.size=function(){return this.heap.size()};b.prototype.clear=function(){this.heap.clear()};b.prototype.forEach=
function(a){this.heap.forEach(a)};return b}();c.PriorityQueue=h;var r=function(){function b(a){this.dictionary=new l(a)}b.prototype.contains=function(a){return this.dictionary.containsKey(a)};b.prototype.add=function(a){if(this.contains(a)||c.isUndefined(a))return!1;this.dictionary.setValue(a,a);return!0};b.prototype.intersection=function(a){var b=this;this.forEach(function(c){a.contains(c)||b.remove(c);return!0})};b.prototype.union=function(a){var b=this;a.forEach(function(a){b.add(a);return!0})};
b.prototype.difference=function(a){var b=this;a.forEach(function(a){b.remove(a);return!0})};b.prototype.isSubsetOf=function(a){if(this.size()>a.size())return!1;var b=!0;this.forEach(function(c){return a.contains(c)?!0:b=!1});return b};b.prototype.remove=function(a){return this.contains(a)?(this.dictionary.remove(a),!0):!1};b.prototype.forEach=function(a){this.dictionary.forEach(function(b,c){return a(c)})};b.prototype.toArray=function(){return this.dictionary.values()};b.prototype.isEmpty=function(){return this.dictionary.isEmpty()};
b.prototype.size=function(){return this.dictionary.size()};b.prototype.clear=function(){this.dictionary.clear()};b.prototype.toString=function(){return c.arrays.toString(this.toArray())};return b}();c.Set=r;h=function(){function b(a){this.toStrF=a||c.defaultToString;this.dictionary=new l(this.toStrF);this.nElements=0}b.prototype.add=function(a,b){void 0===b&&(b=1);if(c.isUndefined(a)||0>=b)return!1;this.contains(a)?this.dictionary.getValue(a).copies+=b:this.dictionary.setValue(a,{value:a,copies:b});
this.nElements+=b;return!0};b.prototype.count=function(a){return this.contains(a)?this.dictionary.getValue(a).copies:0};b.prototype.contains=function(a){return this.dictionary.containsKey(a)};b.prototype.remove=function(a,b){void 0===b&&(b=1);if(c.isUndefined(a)||0>=b||!this.contains(a))return!1;var g=this.dictionary.getValue(a);this.nElements=b>g.copies?this.nElements-g.copies:this.nElements-b;g.copies-=b;0>=g.copies&&this.dictionary.remove(a);return!0};b.prototype.toArray=function(){for(var a=[],
b=this.dictionary.values(),c=b.length,e=0;e<c;e++)for(var f=b[e],h=f.value,f=f.copies,k=0;k<f;k++)a.push(h);return a};b.prototype.toSet=function(){for(var a=new r(this.toStrF),b=this.dictionary.values(),c=b.length,e=0;e<c;e++)a.add(b[e].value);return a};b.prototype.forEach=function(a){this.dictionary.forEach(function(b,c){for(var e=c.value,f=c.copies,h=0;h<f;h++)if(!1===a(e))return!1;return!0})};b.prototype.size=function(){return this.nElements};b.prototype.isEmpty=function(){return 0===this.nElements};
b.prototype.clear=function(){this.nElements=0;this.dictionary.clear()};return b}();c.Bag=h;h=function(){function b(a){this.root=null;this.compare=a||c.defaultCompare;this.nElements=0}b.prototype.add=function(a){return c.isUndefined(a)?!1:null!==this.insertNode(this.createNode(a))?(this.nElements++,!0):!1};b.prototype.clear=function(){this.root=null;this.nElements=0};b.prototype.isEmpty=function(){return 0===this.nElements};b.prototype.size=function(){return this.nElements};b.prototype.contains=function(a){return c.isUndefined(a)?
!1:null!==this.searchNode(this.root,a)};b.prototype.remove=function(a){a=this.searchNode(this.root,a);if(null===a)return!1;this.removeNode(a);this.nElements--;return!0};b.prototype.inorderTraversal=function(a){this.inorderTraversalAux(this.root,a,{stop:!1})};b.prototype.preorderTraversal=function(a){this.preorderTraversalAux(this.root,a,{stop:!1})};b.prototype.postorderTraversal=function(a){this.postorderTraversalAux(this.root,a,{stop:!1})};b.prototype.levelTraversal=function(a){this.levelTraversalAux(this.root,
a)};b.prototype.minimum=function(){return this.isEmpty()?void 0:this.minimumAux(this.root).element};b.prototype.maximum=function(){return this.isEmpty()?void 0:this.maximumAux(this.root).element};b.prototype.forEach=function(a){this.inorderTraversal(a)};b.prototype.toArray=function(){var a=[];this.inorderTraversal(function(b){a.push(b);return!0});return a};b.prototype.height=function(){return this.heightAux(this.root)};b.prototype.searchNode=function(a,b){for(var c=null;null!==a&&0!==c;)c=this.compare(b,
a.element),0>c?a=a.leftCh:0<c&&(a=a.rightCh);return a};b.prototype.transplant=function(a,b){null===a.parent?this.root=b:a===a.parent.leftCh?a.parent.leftCh=b:a.parent.rightCh=b;null!==b&&(b.parent=a.parent)};b.prototype.removeNode=function(a){if(null===a.leftCh)this.transplant(a,a.rightCh);else if(null===a.rightCh)this.transplant(a,a.leftCh);else{var b=this.minimumAux(a.rightCh);b.parent!==a&&(this.transplant(b,b.rightCh),b.rightCh=a.rightCh,b.rightCh.parent=b);this.transplant(a,b);b.leftCh=a.leftCh;
b.leftCh.parent=b}};b.prototype.inorderTraversalAux=function(a,b,c){null===a||c.stop||(this.inorderTraversalAux(a.leftCh,b,c),c.stop||(c.stop=!1===b(a.element),c.stop||this.inorderTraversalAux(a.rightCh,b,c)))};b.prototype.levelTraversalAux=function(a,b){var c=new q;for(null!==a&&c.enqueue(a);!c.isEmpty();){a=c.dequeue();if(!1===b(a.element))break;null!==a.leftCh&&c.enqueue(a.leftCh);null!==a.rightCh&&c.enqueue(a.rightCh)}};b.prototype.preorderTraversalAux=function(a,b,c){null===a||c.stop||(c.stop=
!1===b(a.element),c.stop||(this.preorderTraversalAux(a.leftCh,b,c),c.stop||this.preorderTraversalAux(a.rightCh,b,c)))};b.prototype.postorderTraversalAux=function(a,b,c){null===a||c.stop||(this.postorderTraversalAux(a.leftCh,b,c),c.stop||(this.postorderTraversalAux(a.rightCh,b,c),c.stop||(c.stop=!1===b(a.element))))};b.prototype.minimumAux=function(a){for(;null!==a.leftCh;)a=a.leftCh;return a};b.prototype.maximumAux=function(a){for(;null!==a.rightCh;)a=a.rightCh;return a};b.prototype.heightAux=function(a){return null===
a?-1:Math.max(this.heightAux(a.leftCh),this.heightAux(a.rightCh))+1};b.prototype.insertNode=function(a){for(var b=null,c=this.root,e=null;null!==c;){e=this.compare(a.element,c.element);if(0===e)return null;0>e?(b=c,c=c.leftCh):(b=c,c=c.rightCh)}a.parent=b;null===b?this.root=a:0>this.compare(a.element,b.element)?b.leftCh=a:b.rightCh=a;return a};b.prototype.createNode=function(a){return{element:a,leftCh:null,rightCh:null,parent:null}};return b}();c.BSTree=h})(collections||(collections={}));
